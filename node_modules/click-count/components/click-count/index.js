var marko = require('marko');
var template = marko.load(require.resolve('./template.marko'));

module.exports = require('marko-widgets').defineComponent({
  template: template,
  getInitialState: function(input) {
    return {
      greetingName: input.greetingName,
      clickCount: 0
    };
  },
  getTemplateData: function(state) {
    var clickCount = state.clickCount;
    var timesMessage = clickCount === 1 ? 'time' : 'times';
    return {
      greetingName: state.greetingName,
      clickCount: clickCount,
      timesMessage: timesMessage
    };
  },
  init: function() {
    var el = this.el;
  },
  handleButtonClick: function(event, el) {
    console.log('?');
    this.setState('clickCount', this.state.clickCount + 1);
  },
  setGreetingName: function(newName) {
    this.setState('greetingName', newName);
  }
});

